(()=>{var t={25306:t=>{t.exports={disableAction:function(){document.querySelectorAll("button").forEach((function(t){return t.disabled=!0})),document.querySelectorAll("input").forEach((function(t){return t.disabled=!0})),document.querySelectorAll("select").forEach((function(t){return t.disabled=!0})),document.querySelectorAll("textarea").forEach((function(t){return t.disabled=!0}))},enableAction:function(){document.querySelectorAll("button").forEach((function(t){return t.disabled=!1})),document.querySelectorAll("input").forEach((function(t){return t.disabled=!1})),document.querySelectorAll("select").forEach((function(t){return t.disabled=!1})),document.querySelectorAll("textarea").forEach((function(t){return t.disabled=!1}))},formDataToJSON:function(t){var o={};return t.forEach((function(t,e){o[e]=t})),o},initTooltipFlashJob:function(t){var o=[];t.each((function(){var t=this,e=Math.random(),a=$(this).data("job-id");$(this).tooltip("destroy"),$(this).tooltip({html:!0,trigger:"manual"}).on("mouseenter",(function(){o[e]&&clearTimeout(o[e]),$(".flash-job-tag-tooltip[data-job-id='".concat(a,"']")).length||$(this).tooltip("show")})).on("mouseleave",(function(){var t=this;o[e]=setTimeout((function(){$(t).tooltip("hide")}),1)})),$(document).on("mouseenter",".flash-job-tag-tooltip[data-job-id='".concat(a,"']"),(function(){o[e]&&clearTimeout(o[e])})),$(document).on("mouseleave",".flash-job-tag-tooltip[data-job-id='".concat(a,"']"),(function(){o[e]=setTimeout((function(){$(t).tooltip("hide")}),1)}))}))}}}},o={};function e(a){var i=o[a];if(void 0!==i)return i.exports;var n=o[a]={exports:{}};return t[a](n,n.exports,e),n.exports}e.n=t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},e.d=(t,o)=>{for(var a in o)e.o(o,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:o[a]})},e.o=(t,o)=>Object.prototype.hasOwnProperty.call(t,o),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var a={};(()=>{"use strict";e.r(a);var t=e(25306);$(document).ready((function(){var o={data:{savedJobIds:listSaveJobs}},e=new Vue({mixins:[o],el:"#suggest-job-section",data:{jobsRecommend:[],trackedJobIds:new Set,jobPositionMapping:{}},methods:{loadJobRecommend:function(){var o=this,e=this;$.ajax({url:GET_JOB_RECOMMEND_PAGE_JOB_URL,type:"get"}).done((function(a){if(a.data.length>0){o.jobsRecommend=a.data;var i=[],n={};for(var s in a.data){var r=a.data[s].id;n[r]=parseInt(s)+1,i.push(r)}e.jobPositionMapping=n,onFeatureTrackingTa&&i.length&&ta("jobRendered",{ts:(new Date).getTime(),p:taPage,b:"SuggestJobsBox",jb_ids:i}),Vue.nextTick((function(){$('#suggest-job-section [data-toggle="tooltip"]').tooltip({trigger:"hover",placement:"top",html:!0}),(0,t.initTooltipFlashJob)($("#suggest-job-section .tag-job-flash")),o.initCarousel()}))}else $(".suggest-ai").remove()})).fail((function(){}))},initCarousel:function(){var t=e;$("#job-suggest-list").on("init",(function(){$("#suggest-job-section .loading").hide(),$("#job-suggest-list").css({height:"auto",opacity:"1"})}));var o=2;IS_MOBILE&&(o=1);var a={rows:o,dots:!1,slidesToShow:IS_MOBILE?1:2,slidesToScroll:IS_MOBILE?1:2,infinite:!1,autoplay:!1,autoplaySpeed:5e3,arrows:!0,prevArrow:"#suggest-job-section .btn-pre",nextArrow:"#suggest-job-section .btn-next"};$("#job-suggest-list").slick(a),$("#job-suggest-list").on("afterChange",(function(o,e,a,i){t.updateJobInViewPort()})),t.updateJobInViewPort()},updateJobInViewPort:function(){var t=e;$("#job-suggest-list .slick-active .job-ta").each((function(o,e){if($(e).isInViewport()){var a=$(e).data("job-id"),i=$(e).data("jr-id");if(!t.trackedJobIds.has(a)){t.trackedJobIds.add(a);var n=t.jobPositionMapping[a],s=(new Date).getTime();$(e).isInViewport()?ta("JobInViewPort",{jb_id:a,jr_i:i,ts:s,p:taPage,impr_pos:n,b:"SuggestJobsBox"}):t.trackedJobIds.delete(a)}}}))}},mounted:function(){var t=this;this.loadJobRecommend(),$(window).on("scroll resize",(function(){return t.updateJobInViewPort()}))}});$(document).on("click",".btn-save-job",(function(){if(ajaxLock)return!1;ajaxLock=!0;var t,o=$(this),e=$(this).data("id"),a=$(this).data("jr-id"),i=$(this).data("type-submit");t="save"==i?saveJobUrl:unsaveJobUrl,$.ajax({url:t,type:"POST",data:{job_id:e,jr_i:a}}).done((function(t){"success"==t.status?"save"==i?(o.addClass("saved"),o.removeClass("unsaved"),o.data("type-submit","unsave"),o.attr("data-original-title","Bỏ Lưu"),o.tooltip(),o.mouseover()):(o.removeClass("saved"),o.addClass("unsaved"),o.data("type-submit","save"),o.attr("data-original-title","Lưu"),o.tooltip(),o.mouseover()):"failed"==t.status&&showModalError(t.message)})).fail((function(){console.log("error")})).always((function(){ajaxLock=!1}))})),$(document).on("click",".btn-remove-job-recommend",(function(){if(ajaxLock)return!1;var t=$(this).data("id"),o=$(this);ajaxLock=!0,$.ajax({url:IGNORE_SUGGESTED_JOB_URL,type:"post",data:{id:t},success:function(a){ajaxLock=!1,"success"==a.status?function(t,o){t.tooltip("destroy");var a=$("#job-suggest-list").slick("slickCurrentSlide");$("#suggest-job-section .loading").show(),$("#job-suggest-list").css({height:"0",opacity:"0"}),$("#job-suggest-list").slick("unslick"),$("#item_suggest_job_".concat(o)).remove(),$("#job-suggest-list").children(".box-job").length?setTimeout((function(){e.initCarousel(),$("#job-suggest-list").slick("slickGoTo",a)}),500):$("#suggest-job-section").remove()}(o,t):toastr.error(a.message)},error:function(t){ajaxLock=!1,toastr.error("Có lỗi xảy ra, vui lòng thử lại!")}})}))}))})()})();