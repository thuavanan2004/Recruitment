(()=>{var t={25306:t=>{t.exports={disableAction:function(){document.querySelectorAll("button").forEach((function(t){return t.disabled=!0})),document.querySelectorAll("input").forEach((function(t){return t.disabled=!0})),document.querySelectorAll("select").forEach((function(t){return t.disabled=!0})),document.querySelectorAll("textarea").forEach((function(t){return t.disabled=!0}))},enableAction:function(){document.querySelectorAll("button").forEach((function(t){return t.disabled=!1})),document.querySelectorAll("input").forEach((function(t){return t.disabled=!1})),document.querySelectorAll("select").forEach((function(t){return t.disabled=!1})),document.querySelectorAll("textarea").forEach((function(t){return t.disabled=!1}))},formDataToJSON:function(t){var e={};return t.forEach((function(t,o){e[o]=t})),e},initTooltipFlashJob:function(t){var e=[];t.each((function(){var t=this,o=Math.random(),i=$(this).data("job-id");$(this).tooltip("destroy"),$(this).tooltip({html:!0,trigger:"manual"}).on("mouseenter",(function(){e[o]&&clearTimeout(e[o]),$(".flash-job-tag-tooltip[data-job-id='".concat(i,"']")).length||$(this).tooltip("show")})).on("mouseleave",(function(){var t=this;e[o]=setTimeout((function(){$(t).tooltip("hide")}),1)})),$(document).on("mouseenter",".flash-job-tag-tooltip[data-job-id='".concat(i,"']"),(function(){e[o]&&clearTimeout(e[o])})),$(document).on("mouseleave",".flash-job-tag-tooltip[data-job-id='".concat(i,"']"),(function(){e[o]=setTimeout((function(){$(t).tooltip("hide")}),1)}))}))}}},40224:(t,e,o)=>{"use strict";function i(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}o.r(e),o.d(e,{default:()=>a});const a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jobData=e}var e,o,a;return e=t,(o=[{key:"render",value:function(){var t=this.getFlashIcon(),e=this.getTimeRemainApply(),o=this.getShortCity(),i=this.getWorkingTimes(),a='<a class="btn btn-apply btn-apply-now-quick-view" data-job-id="'.concat(this.jobData.id,'" data-apply-url="').concat(this.jobData.apply_url,'" data-redirect-to="').concat(this.jobData.url_tooltip_apply,'" href="javascript:void(0)">Ứng tuyển</a>');return this.jobData.is_applied&&(a='<div class="tcv-button-applied"><span>Đã ứng tuyển</span><i class="fa-solid fa-check"></i></div>'),'\n            <div id="arrow" class="arrow-tooltip-quick-view"></div>\n            <div class="box-job-quick-view-tooltip">\n                <div class="box-header"> \n                    <div class="d-flex block-title">\n                        <div class="company-logo">\n                            <img src="'.concat(this.jobData.company.logo_url,'" alt="">\n                        </div>\n                        <div class="job-title-block">\n                            <h2 class="title">\n                                ').concat(this.jobData.title,'\n                            </h2>\n                            <a href="').concat(this.jobData.company.url,'" class="company-name">\n                                ').concat(this.jobData.company.name,'\n                            </a>\n                            <label class="salary">\n                                ').concat(this.jobData.salary,'\n                            </label>\n                        </div>\n                    </div>\n                    <div class="d-flex block-info">\n                        ').concat(o,'\n                        <div class="exp block-info_item">\n                            <i class="fa-solid fa-business-time"></i>\n                            <span>').concat(this.jobData.job_exp,'</span>\n                        </div>\n                        <div class="deadline block-info_item">\n                            <i class="fa fa-clock"></i>\n                            ').concat(e,'\n                        </div>\n                    </div>\n                </div>\n                <div class="box-header-scroll">\n                    <div class="job-title-block">\n                        <h2 class="title">\n                            ').concat(this.jobData.title,'\n                        </h2>\n                    </div>\n                </div>\n                <div class="box-scroll">\n                    <div class="box-job-info">\n                        <h3 class="box-job-info_title job-description">Mô tả công việc</h3>\n                        <div class="content-tab">').concat(this.jobData.job_description,'</div>\n                        <h3 class="box-job-info_title job-requirement">Yêu cầu ứng viên</h3>\n                        <div class="content-tab">').concat(this.jobData.job_requirement,'</div>\n                        <h3 class="box-job-info_title job-benefit">Quyền lợi</h3>\n                        <div class="content-tab">').concat(this.jobData.job_benefit,'</div>\n                        <h3 class="box-job-info_title box-address">Địa điểm làm việc</h3>\n                        <div class="content-tab">\n                            ').concat(this.jobData.address,"\n                        </div>\n                        ").concat(i,'\n                    </div>\n                </div>\n                <div class="box-footer">\n                    ').concat(a,'\n                    <a class="btn btn-view-detail-quick-view" data-redirect-to="').concat(this.jobData.urlTooltip,'" href="javascript:void(0)">Xem chi tiết</a>\n                </div>\n               ').concat(t,"\n            </div>")}},{key:"getTimeRemainApply",value:function(){var t="<span>Còn ".concat(this.jobData.remain_deadline_by_day," ngày</span>");return 0===this.jobData.remain_deadline_by_day&&(t="<span>Còn ".concat(this.jobData.remain_deadline_by_hour," giờ để ứng tuyển</span>")),t}},{key:"getShortCity",value:function(){var t="";return this.jobData.short_cities&&(t='<div class="location block-info_item">\n                            <i class="fa fa-location-dot"></i>\n                            <span>'.concat(this.jobData.short_cities,"</span>\n                        </div>")),t}},{key:"getFlashIcon",value:function(){var t="";return this.jobData.is_job_flash&&(t='<div class="icon-flash">\n               <img src="'.concat(app.iconFlash,'" alt="">\n                </div>')),t}},{key:"getWorkingTimes",value:function(){var t="";if(this.jobData.working_times&&this.jobData.working_times.length>0){t='<h3 class="box-job-info_title job-benefit">Thời gian làm việc</h3>',t+='<div class="content-tab">';for(var e=0;e<this.jobData.working_times.length;e++)t+='<div class="content-tab__list">'.concat(this.jobData.working_times[e],"</div>");t+="</div>"}return t}}])&&i(e.prototype,o),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},4629:(t,e,o)=>{"use strict";o.r(e),o.d(e,{initTooltipQuickView:()=>a,setDataJobTooltip:()=>s});var i=o(40224),a=function(t,e){var o=[];t.each((function(){$(this).off("mouseenter");var t=Math.floor(1e4*Math.random());$(this).on("mouseenter",(function(){var a=this;$(".quickview-job-tooltip").length||(o[t]=setTimeout((function(){var t=$(a).attr("data-job-id"),s="tooltip-".concat(Math.floor(1e4*Math.random())),r=window.dataJobMapById["id-".concat(t)];if(!r)return!1;var c=new i.default(r).render(),l=document.createElement("div");l.classList.add("quickview-job-tooltip"),l.setAttribute("id",s),l.setAttribute("data-job-id",t),l.innerHTML=c,document.body.appendChild(l);var d=$(a).get(0),u=document.querySelector(".arrow-tooltip-quick-view");Popper.createPopper(d,l,{placement:"left",modifiers:[{name:"offset",options:{offset:[0,10]}},{name:"flip",options:{fallbackPlacements:"right"}},{name:"arrow",options:{element:u}},{name:"preventOverflow",options:{padding:80}}]}),window.trackingTopCV.sendShowQuickViewTooltip(),function(t,e,o,i){function a(t){e.removeEventListener("mouseleave",(function(){})),t.remove()}e.addEventListener("mouseenter",(function(){o[i]&&clearTimeout(o[i])})),e.addEventListener("mouseleave",(function(){o[i]=setTimeout((function(){a(t)}),100)})),t.addEventListener("mouseenter",(function(){e.classList.add("active"),o[i]&&clearTimeout(o[i])})),t.addEventListener("mouseleave",(function(){e.classList.remove("active"),o[i]=setTimeout((function(){a(t)}),100)}))}(l,d,o,s),function(t,e){if(!e)return;t.addEventListener("mouseenter",(function(){e.slick("slickPause")})),t.addEventListener("mouseleave",(function(){e.slick("slickPlay")}))}(l,e),n(),function(t){t.querySelector(".box-scroll").addEventListener("scroll",(function(t){var e=t.target.scrollTop,o=$(".box-job-quick-view-tooltip .box-header-scroll"),i=$(".box-job-quick-view-tooltip .box-header");if(0===e)o.hide(),i.show(),n();else{o.show(),i.hide();var a=$(".quickview-job-tooltip").outerHeight(!0),s=o.outerHeight(!0),r=a-$(".box-job-quick-view-tooltip .box-footer").outerHeight(!0)-s;$(".box-job-quick-view-tooltip .box-scroll").css({height:r+"px"})}}))}(l)}),300))})),$(this).on("mouseleave",(function(){clearTimeout(o[t])}))}))};function n(){var t=$(".box-job-quick-view-tooltip .box-header").outerHeight(!0),e=$(".quickview-job-tooltip").outerHeight(!0)-$(".box-job-quick-view-tooltip .box-footer").outerHeight(!0)-t;$(".box-job-quick-view-tooltip .box-scroll").css({height:e+"px"})}var s=function(t){window.dataJobMapById=window.dataJobMapById||[],t.reduce((function(t,e){return t["id-".concat(e.id)]=e,t}),window.dataJobMapById)}}},e={};function o(i){var a=e[i];if(void 0!==a)return a.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,o),n.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var a={};(()=>{"use strict";o.r(a);var t=o(25306),e=o(4629);function n(){var t,e,o=document.querySelector(".box-smart-feature-jobs .box-smart-location .next-location"),i=document.querySelector(".box-smart-feature-jobs .box-smart-location .prev-location"),a=document.querySelector(".box-smart-list-location"),n=!1;a.addEventListener("mousedown",(function(o){n=!0,a.classList.add("active"),t=o.pageX-a.offsetLeft,e=a.scrollLeft})),a.addEventListener("mouseleave",(function(){n=!1,a.classList.remove("active")})),a.addEventListener("mouseup",(function(){n=!1,a.classList.remove("active")})),a.addEventListener("mousemove",(function(o){if(n){o.preventDefault();var i=o.pageX-a.offsetLeft-t;a.scrollLeft=e-i}})),o.addEventListener("click",(function(t){for(var e=0;e<300;e++)setTimeout((function(){a.scrollLeft+=2}),2*e)})),i.addEventListener("click",(function(t){for(var e=0;e<300;e++)setTimeout((function(){a.scrollLeft-=2}),2*e)}))}$(document).ready((function(){var o=new Vue({el:"#list-feature-jobs",mixins:[savedJobIds],data:{featureJobs:[],lazyImages:[],active:!1,jobsInViewPort:[],jobPositionMapping:{},isSent:!1,isLoading:!0,trackedJobIds:new Set,optionFilter:"cities",listSmartBox:[],selectSmartBox:0,filterText:"Việc làm tại",filterIcon:"fa-sharp fa-light fa-location-dot",defaultSmartBox:0},watch:{optionFilter:function(t){var e=this;"categoriesJob"==t&&this.getOptionFilter("categories"),setTimeout((function(){e.selectSmartBox=e.listSmartBox[t].default}),500),setTimeout((function(){var t,o;IS_MOBILE?($(".js-option-SmartBox").select2("destroy"),$(".js-option-SmartBox").select2({minimumResultsForSearch:-1,dropdownParent:$("#filter-feature-job-container")})):function(){var e=$(".box-smart-feature-jobs").find(".active"),i=document.querySelector(".box-smart-list-location");if(i.scrollLeft=0,t=e.position().left,e.is(":last-child")&&(t+=e.width()),t>i.offsetWidth)for(o=0;o<t;o++)setTimeout((function(){i.scrollLeft+=2}),2*o)}();e.handleReloadInstance()}),1e3)}},methods:{loadJobs:function(){var t=this,e=$("#box-feature-jobs").offset().top,o=$(window),i=$(window).height();e-=0,o.scrollTop()+i>=e&&(t.isSent||(t.isSent=!0,t.getOptionFilter()))},getOptionFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cites",e=this;e.listSmartBox.categoriesJob||$.ajax({url:GET_LIST_OPTION_FILTER,type:"GET",data:{type:t}}).done((function(t){"success"==t.status&&(e.listSmartBox=t.data,e.selectSmartBox=e.listSmartBox.cities.default,setTimeout((function(){IS_MOBILE?$(".js-option-SmartBox").select2({minimumResultsForSearch:-1,dropdownParent:$("#filter-feature-job-container")}):n(),e.handleReloadInstance()}),100))}))},handleReloadInstance:function(){var t=this;this.isLoading=!0,this.featureJobs=[],$(".feature-jobs").hasClass("slick-initialized")&&$(".feature-jobs").slick("destroy"),$(".feature-jobs").removeClass("slick-initialized"),$(".feature-jobs").removeClass("slick-slider"),$(".feature-jobs").removeClass("slick-dotted"),$(".feature-jobs").html(""),setTimeout((function(){t.sendAjaxGetJobs()}),500)},sendAjaxGetJobs:function(){var i,n=this,s="cities"==n.optionFilter?a():null,r="salary"==n.optionFilter?a():null,c="experience"==n.optionFilter?a():null,l="categoriesJob"==n.optionFilter?null===(i=a())||void 0===i?void 0:i.replace(/^\d+[-]/i,""):null;$.ajax({url:GET_LIST_JOB,type:"GET",data:{limit:1e3,city:s,salary:r,exp:c,category:l}}).done((function(i){if("success"==i.status){$(".feature-jobs").hasClass("slick-initialized")&&$(".feature-jobs").slick("destroy");var a=12,s=window.innerWidth;768<=s&&s<=991?a=8:s<=767&&(a=4),o.featureJobs=[],o.featureJobs=o.chunkJobs(i.jobs,a);var r=[],c={};for(var l in i.jobs){var d=i.jobs[l].id;c[d]=parseInt(l)+1,r.push(d)}n.jobPositionMapping=c,(0,e.setDataJobTooltip)(i.jobs),onFeatureTrackingTa&&r.length&&ta("jobRendered",{ts:(new Date).getTime(),p:"ViecLamPage",b:"FeatureJobsBox",jb_ids:r}),Vue.nextTick((function(){$('[data-toggle="tooltip"]').tooltip({container:"body"}).on("mouseleave",(function(){var t=$(this).attr("aria-describedby");$("#"+t).remove()})),(0,t.initTooltipFlashJob)($(".feature-jobs .tag-job-flash")),(0,e.initTooltipQuickView)($(".feature_job_item .quickview-job"),$(".feature-jobs")),n.isLoading=!1;var i=o;$(".feature-jobs").slick({dots:!1,slidesToShow:1,slidesToScroll:1,fade:!0,infinite:!1,speed:500,autoplay:!0,autoplaySpeed:1e4,pauseOnHover:!0,arrows:!0,prevArrow:".btn-feature-jobs-pre",nextArrow:".btn-feature-jobs-next"}).on("init",(function(t,e){$(".slick-pagination").html('<span class="hight-light">1</span> / '.concat(i.featureJobs.length," trang"))})).on("afterChange",(function(){i.lazyLoad()})),$(".feature-jobs").on("beforeChange",(function(t,e,o,a){var n=(a||0)+1;$(".slick-pagination").html('<span class="hight-light">'.concat(n,"</span> / ").concat(e.slideCount," trang")),i.updateJobInViewPort()})),i.updateJobInViewPort(),i.lazyImages=[].slice.call(document.querySelectorAll("img.lazy")),i.lazyLoad(),document.addEventListener("scroll",i.lazyLoad()),window.addEventListener("resize",i.lazyLoad()),window.addEventListener("orientationchange",i.lazyLoad())}))}})).fail((function(){console.log("Đã có lỗi xảy ra.")})).always((function(){n.isLoading=!1}))},chunkJobs:function(t,e){var o=t.length,a=[];for(i=0;i<o;i+=e)a.push(t.slice(i,i+e));return a},lazyLoad:function(){var t=this;!1===this.active&&(this.active=!0,setTimeout((function(){t.lazyImages.forEach((function(e){e.getBoundingClientRect().top<=window.innerHeight&&e.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(e).display&&(e.src=e.dataset.src,e.classList.remove("lazy"),t.lazyImages=t.lazyImages.filter((function(t){return t!==e})),0===t.lazyImages.length&&(document.removeEventListener("scroll",t.lazyLoad()),window.removeEventListener("resize",t.lazyLoad()),window.removeEventListener("orientationchange",t.lazyLoad())))})),t.active=!1}),200))},updateJobInViewPort:function(){var t=o;$("#list-feature-jobs .slick-active .job-ta").each((function(e,o){if($(o).isInViewport()){var i=$(o).data("job-id");if(!t.trackedJobIds.has(i)){t.trackedJobIds.add(i);var a=t.jobPositionMapping[i],n=(new Date).getTime();setTimeout((function(){$(o).isInViewport()?ta("JobInViewPort",{jb_id:i,ts:n,p:"ViecLamPage",impr_pos:a,b:"FeatureJobsBox"}):t.trackedJobIds.delete(i)}),1e3)}}}))}},mounted:function(){var t=this;setTimeout((function(){$(".js-option-filter").select2({minimumResultsForSearch:-1,dropdownParent:$("#filter-feature-job-container"),dropdownPosition:"below"})}),1e3),$("#list-feature-jobs").offset().top<=$(window).height()?this.loadJobs():$(window).scroll((function(e){t.loadJobs()})),window.addEventListener("scroll",this.lazyLoad),$(window).on("scroll resize",(function(){return t.updateJobInViewPort()}))}});function a(){return IS_MOBILE?(o.selectSmartBox=$("#filter-feature-job-smart-box").val(),$("#filter-feature-job-smart-box").val()):$(".box-smart-feature-jobs").find(".active").data("city_id")}$(".js-option-filter").on("change",(function(){if(o.optionFilter=$(this).val(),IS_MOBILE)switch(o.optionFilter){case"cities":default:o.filterText="Việc làm tại",o.filterIcon="fa-sharp fa-light fa-location-dot";break;case"salary":o.filterText="Mức lương",o.filterIcon="fa-regular fa-circle-dollar";break;case"experience":o.filterText="Kinh nghiệm",o.filterIcon="fa-light fa-circle-star";break;case"categories":o.filterText="Ngành nghề",o.filterIcon="fa-regular fa-briefcase"}})),$(document).on("click",".box-smart-feature-jobs .box-smart-item",(function(){o.selectSmartBox=$(this).data("city_id"),o.handleReloadInstance()})),$(document).on("change",".js-option-SmartBox",(function(){o.selectSmartBox=$("#filter-feature-job-smart-box").val(),o.handleReloadInstance()})),$(document).on("click","#list-feature-jobs .save-job",(function(){window.trackingTopCV.sendEventSaveJob();var t=$(this).data("id"),e="";e=$(this).hasClass("active")?unsaveJobUrl:saveJobUrl;$.ajax({url:e,type:"POST",data:{job_id:t}}).done((function(i){"success"==i.status?($("button.save-job[data-id="+t+"]").each((function(t){$(this).toggleClass("active")})),e==saveJobUrl?o.savedJobIds.push(t):o.savedJobIds.splice(savedJobIds.data.savedJobIds.findIndex((function(e){return e===t})),1)):"failed"==i.status&&showModalError(i.message)})).fail((function(){console.log("error")})).always((function(){}))}))})),$.fn.isInViewport=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=$(".ta-top"),o=e.height()||0,i=$(this).height(),a=$(this).offset().top,n=a+$(this).outerHeight(),s=$(window).scrollTop(),r=s+o,c=s+$(window).height();return n>r+i&&a<c-i||t&&Array.from($(this).find("a:visible")).some((function(t){return $(t).isInViewport(!1)}))}})()})();